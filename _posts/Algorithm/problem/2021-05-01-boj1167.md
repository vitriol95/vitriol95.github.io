---
title: ë°±ì¤€ 1167 íŠ¸ë¦¬ì˜ ì§€ë¦„ with Python, Java
date: 2021-05-01 10:20:00 +0900
categories: [Algorithm, problem]
tags: [algorithm,boj,problem,íŠ¸ë¦¬,python3,graph,dfs,bfs,ë°±ì¤€,java]
math: true
---

# ë¬¸ì œì†Œê°œ - íŠ¸ë¦¬ì˜ ì§€ë¦„
---
__ë¬¸ì œ ì¶œì²˜__ : [ë°±ì¤€ - íŠ¸ë¦¬ì˜ ì§€ë¦„](https://www.acmicpc.net/problem/1167)

<img src="/assets/img/problems/boj1167.JPG">

# í’€ì´
---
## ì ‘ê·¼ê³¼ì •

ì–´ëŠ ë…¸ë“œê±´ ë£¨íŠ¸ê°€ ë  ìˆ˜ ìˆê³  ì‚¬ì´í´ì´ ì—†ë‹¤ëŠ” íŠ¸ë¦¬ì˜ íŠ¹ì„±ì„ ì´ìš©í•œ ë¬¸ì œì— í•´ë‹¹í•œë‹¤. ì´ ë¬¸ì œë¥¼ ì²˜ìŒ ë§Œë‚¬ì„ ë•Œ ê°€ì¥ ë§‰í˜”ë˜ ë¶€ë¶„ì€ __'ë¬´ì—‡ì„ ê¸°ì¤€ì ìœ¼ë¡œ ì‚¼ì§€?'__ ì— ëŒ€í•œ ê²ƒì´ì—ˆë‹¤.

<br>
ë¬´ì—‡ì„ ê¸°ì¤€ì ìœ¼ë¡œ ì‚¼ëŠëƒì— ëŒ€í•œ í•´ë‹µì€ ê¸ˆë°© ì°¾ì„ ìˆ˜ ìˆì—ˆë‹¤. ì˜ˆì œì…ë ¥ 1ì„ ì˜ˆë¡œë“¤ì–´ ì„¤ëª…í•´ ë³´ê² ë‹¤.

<img src="/assets/img/problems/boj1167-2.JPG">

ì—¬ê¸°ì„œì˜ ì§€ë¦„ì€ ë¹„ìš© 2-3-6ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë£¨íŠ¸ì— í•´ë‹¹í•œë‹¤. (ë…¸ë“œ 1ë¶€í„° 5ê¹Œì§€) ì´ëŸ¬í•œ ê·¸ë˜í”„ê°€ ì£¼ì–´ì¡Œì„ ë•Œ ìš°ë¦¬ëŠ” ì™„ì „íƒìƒ‰ (bfs or dfs)ë¥¼ ì´ìš©í•˜ë©´ ì–´ë–¤ ë…¸ë“œë¶€í„° ë‹¤ë¥¸ ì–´ë–¤ ë…¸ë“œê¹Œì§€ ë¹„ìš©ì€ ì‰½ê²Œ êµ¬í•  ìˆ˜ ìˆë‹¤.
> ì¦‰, ì´ê²ƒì´ ìœ ì¼í•œ ì•Œê³ ìˆëŠ” ì •ë³´ì´ì í–‰ë™ì— í•´ë‹¹í•œë‹¤.

<br>
ìš°ë¦¬ëŠ” ë¬´ì—‡ì´ ê¸°ì¤€ì ì¸ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ë”°ë¼ì„œ ì„ì˜ì˜ ë…¸ë“œ(ë§Œì•½ ë…¸ë“œ 4ê°€ ì„ íƒë˜ì—ˆë‹¤ê³  í•˜ê² ë‹¤)ë¡œ ë¶€í„° ê° ë…¸ë“œì˜ ê±°ë¦¬ë¥¼ êµ¬í•´ë³´ì

|from|to|ê±°ë¦¬|
|4|3|2|
|4|1|5|
|4|2|4|
|4|5|6|

<br>

ê°€ì¥ ë©€ë¦¬ ìˆëŠ” ë…¸ë“œëŠ” __5ë²ˆ__ ì— í•´ë‹¹í•˜ê³  ì´ì— ëŒ€í•œ ê±°ë¦¬ëŠ” 6ì— í•´ë‹¹í•œë‹¤. ì—‡? ê·¸ëŸ°ë° ê³µêµë¡­ê²Œë„ 5ë²ˆë…¸ë“œëŠ” ìš°ë¦¬ê°€ ë‹µìœ¼ë¡œ ì°¾ì•˜ë˜ ì§€ë¦„ì˜ í•œë¶€ë¶„ì— ì†í•œë‹¤. ì´ê²ƒì´ ìš°ì—°ì¼ê¹Œë¥¼ ì„ì˜ì˜ ë…¸ë“œ(4ë²ˆì´ ì•„ë‹Œ)ë¥¼ ë°”ê¾¸ì–´ ë³´ë©° í…ŒìŠ¤íŠ¸í•´ë³´ì

- from ë…¸ë“œê°€ 2ë²ˆì¼ë•Œ ì—­ì‹œ ê°€ì¥ ë©€ë¦¬ ìˆëŠ” ë…¸ë“œëŠ” 5ë²ˆì´ë‹¤.
- from ë…¸ë“œê°€ 3ë²ˆì¼ë•Œë„ 5ë²ˆì— í•´ë‹¹í•œë‹¤.
- from ë…¸ë“œê°€ 1ë²ˆì¼ë•Œì—ë„ 5ë²ˆì´ ê°€ì¥ ë©€ë‹¤.
- from ë…¸ë“œê°€ 5ë²ˆì´ ëœë‹¤ë©´ ê°€ì¥ ë©€ë¦¬ìˆëŠ” ë…¸ë“œëŠ” 1ë²ˆì´ ëœë‹¤.

> ë°‘ì—ì„œ 2ê°€ì§€ëŠ” ê³§ ì§€ë¦„ì— í•´ë‹¹í•œë‹¤.

<br>
ìŒ.. ğŸ™â€â™‚ï¸ ì•„ì§ë„ ë­”ê°€ í™•ì‹ ì´ ì„œì§€ ì•ŠëŠ”ë‹¤. ë§Œì•½ 2-4 ê°„ì„  ê±°ë¦¬ê°€ 100ì´ ë˜ì—ˆë‹¤ê³  ê°€ì •í•´ë³´ì. ì§€ë¦„ì€ 2~5ê°€ ë˜ë©° ë¹„ìš©ì€ 106ì— í•´ë‹¹í•œë‹¤.

- from ë…¸ë“œê°€ 1ë²ˆì¼ë•Œ ê°€ì¥ ë¨¼ ë…¸ë“œëŠ” 2ì´ë‹¤.
- from ë…¸ë“œê°€ 3ë²ˆì¼ë•Œë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤.
- from ë…¸ë“œê°€ 2ë²ˆì¼ë•Œì—ëŠ” ê°€ì¥ ë¨¼ ë…¸ë“œëŠ” 5ê°€ ëœë‹¤.
- from ë…¸ë“œê°€ 4ë²ˆì¼ë•Œ ê°€ì¥ ë¨¼ ë…¸ë“œëŠ” 2ì´ë‹¤.

ì—¬ê¸°ì„œ ë­”ê°€ ê¹¨ë‹¬ìŒì´ ì™”ë‹¤. ê²°êµ­ 'ì–´ë–¤ ë…¸ë“œì—ì„œ ì‹œì‘í–ˆëŠëƒ' ìì²´ëŠ” ì¤‘ìš”í•œ ê²ƒì´ ì•„ë‹ˆë¼ëŠ” ê²ƒì´ë‹¤.

<br>
ê²°ë¡ ì ìœ¼ë¡œ ì´ì•¼ê¸°í•˜ë©´, ì–´ë–¤ ë…¸ë“œì—ì„œ ëª¨ë“  ë…¸ë“œê¹Œì§€ ê±°ë¦¬ë¥¼ ì¬ë³´ê³ (ì§€ë¦„ì˜ ì¼ë¶€ë¼ë„ ìƒê´€ì´ ì—†ë‹¤.) ê°€ì¥ ë©€ë¦¬ìˆëŠ” ë…¸ë“œë¥¼ ì €ì¥í•˜ê³  ì´ë¡œë¶€í„° ë‹¤ì‹œ í•œë²ˆ ê±°ë¦¬ë¥¼ ìŸ€ì„ ë•Œ ê°€ì¥ í° ê¸¸ì´ê°€ ë°”ë¡œ ì§€ë¦„ì´ ë˜ëŠ” ê²ƒì´ë‹¤.

## êµ¬í˜„(python3)
```python
import sys
input = sys.stdin.readline
sys.setrecursionlimit(int(1e6))

def dfs(x,cost):

    global distance

    for node,dist in tree[x].items():
        if distance[node]!=-1:
            continue
        distance[node] = cost+dist
        dfs(node,cost+dist)

    return

v = int(input())
tree = [{} for _ in range(v+1)]

for i in range(v):
    temp = list(map(int,input().split()))[:-1]
    for j in range(1,len(temp),2):
        tree[temp[0]][temp[j]] = temp[j+1]

distance = [-1]*(v+1)
distance[1] = 0
maxi_idx,maxi = 0,0
dfs(1,0)

for idx,dist in enumerate(distance):
    if maxi < dist:
        maxi = dist
        maxi_idx = idx

distance = [-1]*(v+1)
distance[maxi_idx] = 0
dfs(maxi_idx,0)
print(max(distance))
```
> dfsí•¨ìˆ˜ëŠ” ì•ì„œ ì´ì•¼ê¸°í•œ 'ì„ì˜ì˜ ë…¸ë“œë¡œ ë¶€í„° ì–´ë–¤ ë…¸ë“œê¹Œì§€ì˜ ê±°ë¦¬'ë¥¼ dfsë¥¼ ì´ìš©í•œ ì™„ì „ íƒìƒ‰ì„ ì§„í–‰í•œë‹¤. 28ë¼ì¸ì„ ë³´ë©´ ê·¸ëƒ¥ ì„ì˜ì˜ 1ë²ˆì´ë¼ëŠ” ë…¸ë“œì—ì„œ ì§„í–‰í•˜ì˜€ë‹¤.

dfsë¥¼ ì§„í–‰í•˜ë©´ì„œ distance ë¼ëŠ” ë¦¬ìŠ¤íŠ¸ê°€ ì‘ì„±ë˜ëŠ”ë° ì´ë•Œ ìµœëŒ€ê°’ì„ ê°€ì§€ëŠ” ë…¸ë“œ ë²ˆí˜¸ë¥¼ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤. ê·¸ë¦¬ê³  37ë¼ì¸ì— ë”°ë¼ ì„ íƒëœ ë…¸ë“œì—ì„œ í•œë²ˆ ë” dfsë¥¼ ì§„í–‰í•˜ë©´ ëœë‹¤.

## êµ¬í˜„ (java)
```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.*;

public class Main {

    static List<HashMap<Integer, Integer>> tree = new ArrayList<>();

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int v = Integer.parseInt(br.readLine());
        int[] distance = new int[v + 1];

        for (int i = 0; i <= v; i++) {
            tree.add(new HashMap<>());
            distance[i] = -1;
        }

        for (int i = 0; i < v; i++) {
            int[] inputs = Arrays.stream(br.readLine().split(" "))
                            .mapToInt(Integer::parseInt).toArray();
            HashMap<Integer, Integer> temp = tree.get(inputs[0]);
            for (int j = 1; j < inputs.length-1; j += 2) {
                temp.put(inputs[j], inputs[j + 1]);
            }
        }

        distance[1] = 0;
        dfs(1, 0, distance);
        int max_idx = 0;
        int max_val = 0;
        for (int i = 0; i < distance.length; i++) {
            if (distance[i] > max_val) {
                max_idx = i;
                max_val = distance[i];
            }
            distance[i] = -1;
        }
        distance[max_idx] = 0;
        dfs(max_idx,0,distance);
        System.out.println(Arrays.stream(distance).max().getAsInt());
    }

    static void dfs(Integer x, Integer cost, int[] distance) {

        tree.get(x).forEach((k,v)->{
            if (distance[k] == -1) {
                distance[k] = cost + v;
                dfs(k, cost + v, distance);
            }
        });
    }
}
```